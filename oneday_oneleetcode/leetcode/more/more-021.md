---
title: 石子游戏
tags:
  - 石子游戏
sidebar: auto
---

### 石子游戏

::: tip 难度
中等
:::

![more-021](http://qiniu.gaowenju.com/leecode/banner/more-021.jpg)

## [题目:](https://leetcode-cn.com/problems/stone-game/)

亚历克斯和李用几堆石子在做游戏。偶数堆石子排成一行，每堆都有正整数颗石子  piles[i] 。

游戏以谁手中的石子最多来决出胜负。石子的总数是奇数，所以没有平局。

亚历克斯和李轮流进行，亚历克斯先开始。 每回合，玩家从行的开始或结束处取走整堆石头。 这种情况一直持续到没有更多的石子堆为止，此时手中石子最多的玩家获胜。

假设亚历克斯和李都发挥出最佳水平，当亚历克斯赢得比赛时返回  true ，当李赢得比赛时返回  false 。

### 示例

```
输入：[5,3,4,5]
输出：true
解释：
亚历克斯先开始，只能拿前 5 颗或后 5 颗石子 。
假设他取了前 5 颗，这一行就变成了 [3,4,5] 。
如果李拿走前 3 颗，那么剩下的是 [4,5]，亚历克斯拿走后 5 颗赢得 10 分。
如果李拿走后 5 颗，那么剩下的是 [3,4]，亚历克斯拿走后 4 颗赢得 9 分。
这表明，取前 5 颗石子对亚历克斯来说是一个胜利的举动，所以我们返回 true 。
```

### 提示

1. 2 <= piles.length <= 500
2. piles.length 是偶数。
3. 1 <= piles[i] <= 500
4. sum(piles) 是奇数。

**比较**

相比[20200901: 预测赢家 (难度:中等)](../202009/20200901.md)，本题多数组元素总会为奇数(不会存在相等情况)，元素个数为偶数的条件

新增的条件在采用递归方法和动态规划，时不影响逻辑，则预测赢家的递归解法直接复用同样可以。

**注意：**本题只有优化过的递归解法可以通过

- 直接递归

![直接递归](http://qiniu.gaowenju.com/leecode/more-021-1.png)

- 优化递归

![优化递归](http://qiniu.gaowenju.com/leecode/more-021.png)

- 直接递归

那么已经存 预测赢家 这个题目了，本次存在的意义是什么呢

```javascript
/**
 * @param {number[]} piles
 * @return {boolean}
 */
var stoneGame = function (piles) {
  return true
}
```

相信自己的眼睛，官方数学解法 直接 return true，统一可以通过

那么就是说，元素个数偶数，先手的亚历克斯一定取胜

本题存在的意义就是论证，如果数组的长度是偶数，就一定是先手获胜

其实也不是很难理解：

- 两个人分别取数组里面的值，换种表达方式就是将数组分成两份，又因为数组的和是奇数，那么一定存在一份和大一份和小
- 其中每分和代表的是一种选择顺序
- 先手就可以先选择哪种选择顺序，所以先手一定能获胜

**注意：**假设亚历克斯和李都发挥出最佳水平并不是指代每部都是选择最大的，而是形成的选择顺序是最优的
