---
title: 二叉搜索树转累加树
tags:
  - 把二叉搜索树转换为累加树
sidebar: auto
---

### 把二叉搜索树转换为累加树

::: tip 难度
简单
:::

![20200921](http://qiniu.gaowenju.com/leecode/banner/20200921.jpg)

## [题目:](https://leetcode-cn.com/problems/convert-bst-to-greater-tree/)

给定一个二叉搜索树（Binary Search Tree），把它转换成为累加树（Greater Tree)，使得每个节点的值是原来的节点值加上所有大于它的节点值之和。

### 示例：

```
输入: 原始二叉搜索树:
              5
            /   \
           2     13

输出: 转换为累加树:
             18
            /   \
          20     13
```

## 抛砖引玉

![抛砖引玉](http://qiniu.gaowenju.com/leecode/20200920.png)

二叉搜索树是一棵空树，或者是具有下列性质的二叉树：

1. 若它的左子树不空，则左子树上所有节点的值均小于它的根节点的值；
2. 若它的右子树不空，则右子树上所有节点的值均大于它的根节点的值；
3. 它的左、右子树也分别为二叉搜索树。

由这样的性质我们可以发现，二叉搜索树的中序遍历是一个单调递增的有序序列。
如果我们反序地中序遍历该二叉搜索树，即可得到一个单调递减的有序序列。

```javascript
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {TreeNode}
 */
var convertBST = function(root) {
  let sum = 0;
  function dfs(node){
    if(node == null) return node
    dfs(node.right)
    sum = sum + node.val
    node.val = sum
    dfs(node.left)
  }
  dfs(root)
  return root
};
```

